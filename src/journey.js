function textFromSeconds(timeNow) {
	var beforeStr = "@@@@@@@@\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2569\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2569\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n\u255f\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500  A T T E N T I O N    Y W O T  \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2562\n\u2551 A world-wide road trip is being organized for  \u2551\n\u2551 22:00 UTC, 2015-02-25  (that is in  less than  \u2551\n\u2551 one hour from now)! We will be making stops at \u2551\n\u2551 every 25th X coordinate once every 5 minutes.  \u2551\n\u2551                                                \u2551\n\u2551 While the STATUS says \"Relax\", everyone on the \u2551\n\u2551 trip should remain at the current coordinates. \u2551\n\u2551 When the status changes to \"RUN!!\", you should \u2551\n\u2551 be in the process of moving from \"current co-  \u2551\n\u2551 ordinates\" to \"next-coordinates\".  The Relax   \u2551\n\u2551 stage will  last  for  4 minutes and the Run   \u2551\n\u2551 stage will  last for 1 minute.                 \u2551\n\u2551                                                \u2551\n\u2551 * Keep this screen open in a separate window * \u2551\n\u2551 *   so that you can keep up with the pace!   * \u2551\n\u2551                                                \u2551\n\u255f\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500   Current Location: (0, 0)     \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2562\n\u2551                                                \u2551\n\u255f\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500   Next Location:    (25, 0)    \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2562\n\u2551                                                \u2551\n\u255f\u2500\u2500\u2500\u2500\u2500            STATUS: XXXXX             \u2500\u2500\u2500\u2500\u2500\u2562\n\u2551@@@@                                        @@@@\u2551\n\u2551@@@@                                        @@@@\u2551\n\u2551              COUNTDOWN  (mm:ss)                \u2551\n\u2551          >>>>>>>>> XX:XX <<<<<<<<<             \u2551\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n@@@@@@@@         Sign-up sheet!           @@@@@@@@\n@@@        (add more spaces as needed)         @@@\n@@@ 1. @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@   \n@@@ 2. @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@   \n@@@ 3. @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@   \n@@@ 4. @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@   \n@@@ 5. @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@   \n@@@ 6. @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@   \n@@@ 7. @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@   \n@@@ 8. @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@   \n@@@ 9. @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@   \n@@@10. @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@   ";
	var afterStr = "@@@@@@@@\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n@@@@@@@@\u2551@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\u2551\n\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2569\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2569\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557\n\u255f\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500  A T T E N T I O N    Y W O T  \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2562\n\u2551 A world-wide road trip is Going on RIGHT NOW!! \u2551\n\u2551                                                \u2551\n\u2551 Description of states:                         \u2551\n\u2551   \"Relax\" - Stay at the current location       \u2551\n\u2551   \"RUN!!\" - Begin travelling to next location  \u2551\n\u2551                                                \u2551\n\u2551 * Keep this screen open in a separate window * \u2551\n\u2551 *   so that you can keep up with the pace!   * \u2551\n\u2551                                                \u2551\n\u255f\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500   Current Location: XXXXXXXX   \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2562\n\u2551                                                \u2551\n\u255f\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500   Next Location:    XXXXXXXX   \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2562\n\u2551                                                \u2551\n\u255f\u2500\u2500\u2500\u2500\u2500            STATUS: XXXXX             \u2500\u2500\u2500\u2500\u2500\u2562\n\u2551@@@@                                        @@@@\u2551\n\u2551@@@@                                        @@@@\u2551\n\u2551              Countdown  (mm:ss)                \u2551\n\u2551          >>>>>>>>> XX:XX <<<<<<<<<             \u2551\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d\n@@@\n@@@\n@@@\n@@@\n@@@\n@@@\n@@@\n@@@@@@@@         Sign-up sheet!           @@@@@@@@\n@@@        (add more spaces as needed)         @@@\n@@@ 1. @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@   \n@@@ 2. @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@   \n@@@ 3. @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@   \n@@@ 4. @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@   \n@@@ 5. @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@   \n@@@ 6. @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@   \n@@@ 7. @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@   \n@@@ 8. @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@   \n@@@ 9. @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@   \n@@@10. @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@   ";	
	var startTime = Date.UTC(2015, 1, 25, 22, 00, 0, 0);
	if(startTime > timeNow) {
		beforeStr = beforeStr.replace(/\@/g, we.NBS);
		beforeStr = beforeStr.substring(0,1879)
					+((startTime-timeNow < 60000) ? "RUN!!" : "Relax")
					+beforeStr.substring(1884,2078)
					+millisToMinSec(startTime-timeNow)
					+beforeStr.substring(2083);
		return beforeStr;
	} else {
		var diffTime = timeNow - startTime;
		var modTime = 5*60*1000 - ((diffTime) % (5*60*1000));
		afterStr = afterStr.replace(/\@/g, we.NBS);
		afterStr = afterStr.substring(0,1322)
					+ xlocToPair(25*(Math.floor(diffTime/(5*60*1000))+1))
					+ afterStr.substring(1330,1424)
					+ xlocToPair(25*(Math.floor(diffTime/(5*60*1000))+2))
					+ afterStr.substring(1432,1522)
					+ (modTime < 60000 ?  "RUN!!" : "Relax")
					+ afterStr.substring(1527, 1721)
					+ millisToMinSec(modTime)
					+ afterStr.substring(1726);
		return afterStr;
	}
}

function millisToMinSec(millis) {
	var sec = Math.floor(millis/1000);
	var min = Math.floor(sec/60);
	sec = sec % 60;
	return ("0"+min).slice(-2) + ":" + ("0"+sec).slice(-2);
}

function xlocToPair(xloc) {
	return ("("+xloc+", 0)  ").substring(0,8);
}

function drawTripBanner() {
	pasteText(textFromSeconds(Date.now()), [-25, -9], false);
}

function loopTripBanner() {
	if(we.isReady()) {
		drawTripBanner();
	}
	if(we.go) {
		setTimeout(loopTripBanner, 5000)
	}
}